<div class="user-container">
    <!-- Barre de recherche avec une meilleure visibilitÃ© -->
    <div class="search-container">
        <input type="text" [(ngModel)]="searchTerm" (input)="filterUsers()" placeholder="Chercher..." class="search-input">
    </div>

    <!-- Tableau des utilisateurs -->
    <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Phone Number</th>
                    <th>Birthday Date</th>
                    <th>Created At</th>
                    <th>Updated At</th>
                    <th></th> <!-- âœ… Colonne pour les icÃ´nes -->
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let user of filteredUsers">
                    <td><strong>{{ user.userId }}</strong></td>
                    <td>{{ user.name }}</td>
                    <td>{{ user.email }}</td>
                    <td>{{ user.phone }}</td>
                    <td>{{ user.dateNaissance }}</td>
                    <td>{{ user.createdAt }}</td>
                    <td>{{ user.updatedAt }}</td>
                    <td class="actions">
                        <button class="edit-btn" (click)="editUser(user)"><i class="fas fa-edit"></i></button>
                        <button class="delete-btn" (click)="deleteUser(user.userId)"><i class="fas fa-trash-alt"></i></button>
                    </td>
                    <td class="actions">
                        <button class="edit-btn" (click)="editUser(user)">
                          <i class="fas fa-edit"></i>
                        </button>
                        <button class="delete-btn" (click)="deleteUser(user.userId)">
                          <i class="fas fa-trash-alt"></i>
                        </button>
                      
                        <!-- Ban/Unban toggle -->
                        <label class="ban-toggle">
                          <input 
                            type="checkbox" 
                            [checked]="user.status === 'ACTIVE'" 
                            (change)="toggleBan(user)" />
                          <span class="toggle-label">
                            {{ user.status === 'ACTIVE' ? 'âœ… Active' : 'ðŸš« Banned' }}
                          </span>
                        </label>
                      </td>
                      
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Formulaire de modification -->
    <div class="edit-form-container" *ngIf="showEditForm">
        <h3>Modifier l'utilisateur</h3>
        <label>Nom :</label>
        <input type="text" [(ngModel)]="editedUser.name">

        <label>E-mail :</label>
        <input type="email" [(ngModel)]="editedUser.email">

        <label>NumÃ©ro de tÃ©lÃ©phone :</label>
        <input type="text" [(ngModel)]="editedUser.phone">

        <label>Date de naissance :</label>
        <input type="date" [(ngModel)]="editedUser.dateNaissance">

        <div class="edit-buttons">
            <button (click)="saveChanges()" class="save-btn">Enregistrer</button>
            <button (click)="cancelEdit()" class="cancel-btn">Annuler</button>
        </div>
    </div>
</div>
